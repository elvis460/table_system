<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Login page</title>
    <style type="text/css">
     #msgDiv {
        color: red;
      }
    form {
      font-size: 20px;
      float:left;
      margin-left: 20%;
      margin-top: 5%;
    }
    .box{
      height:25px;
    }
    .button {
      background-color: #B9DEA0;
      display: block;
      width: 80px;
      height: 40px;
      line-height: 20px;
      margin: 10px auto;
      border: 1px solid #999;
      font-size: 14px;
      cursor: pointer
    }
    .button:hover {
      background-color: #76B474;
    }
    </style>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript">
    var login=function(){
      var URLs="/api/login";

      $.ajax({
          url: URLs,
          data: $('#LoginForm').serialize(),
          type:"POST",
          dataType:'json',
          success: function(msg){
                    if(msg.success==="false"){
                      $('#msgDiv').html("<H2>登入錯誤</H2>");
                    }
                    else {//login success
                        location.href='/';
                    }
          },
          error:function(xhr, ajaxOptions, thrownError){
             alert(xhr.status);
             alert(thrownError);
          }
      });
    };

    </script>
  </head>
  <body>
    <h1>請登入</h1>
    <form id='LoginForm'>
      <div id="msgDiv"></div>
            <table>
            <tr><td>帳號:</td><td><input type="text"name="account" class='box'></td></tr>
            <tr><td>密碼:</td><td><input type="password"name="passwd" class='box'></td></tr>
            <tr><td><input type='button' onclick='login()' value='登入' class='button'/></td></tr>
            </table>
    </form>
  </body>
</html>
